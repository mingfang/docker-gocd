<h3><%= l.string("BLACKLIST") -%></h3>

<div class="fieldset">
    <label><%= l.string("BLACKLIST_DESCRIPTION") -%></label>
    <% scope[:form].object.filter().each do |ignored_file|
        error = ignored_file.errors().on(com.thoughtworks.cruise.config.materials.IgnoredFiles::PATTERN)
        if error
            scope[:form].object.errors().add(com.thoughtworks.cruise.config.materials.ScmMaterialConfig::FILTER, error)
        end
    end %>

    <%= scope[:form].text_area(com.thoughtworks.cruise.config.materials.ScmMaterialConfig::FILTER, {:include_blank => true, :class => "form_input", :omit_id_generation => true, :rows => 2}) -%>
    <%= error_message_on(scope[:form].object, com.thoughtworks.cruise.config.materials.ScmMaterialConfig::FILTER, :css_class => "form_error") %>
    <div class="clear"></div>
</div>
