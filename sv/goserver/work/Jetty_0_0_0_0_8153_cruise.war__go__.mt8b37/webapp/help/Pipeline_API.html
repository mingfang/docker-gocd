
<!doctype html>

<html xmlns = 'http://www.w3.org/1999/xhtml' xml:lang = 'en' lang = 'en'>
<head>
<meta http-equiv = 'Content-Type' content = 'text/html; charset=UTF-8'></meta>

<meta name = 'google-site-verification' content = 'ALfMTxdH04YK-7c9mgrjLTkrOP55XqZtXqFk1dqCB4M'></meta>

<title>Pipeline API</title>

<link href = 'resources/stylesheets/help.css' media = 'screen' rel = 'Stylesheet' type = 'text/css'></link>

<link href = '//assets.zendesk.com/external/zenbox/v2.5/zenbox.css' media = 'screen, projection' rel = 'Stylesheet' type = 'text/css'></link>

<link href = 'resources/stylesheets/help_search.css' media = 'screen' rel = 'Stylesheet' type = 'text/css'></link>

<script src = '//www.google.com/jsapi' type = 'text/javascript'></script>

<link href = '/go/images/cruise.ico' rel = 'shortcut icon'></link>

<script src = 'resources/javascript/prototype.js' type = 'text/javascript'></script>

<script src = '//assets.zendesk.com/external/zenbox/v2.5/zenbox.js' type = 'text/javascript'></script>

<script src = 'resources/javascript/help.js' type = 'text/javascript'></script>

<script src = 'resources/javascript/help_search.js' type = 'text/javascript'></script>
</head>

<body>
<div id = 'hd'>
<h1>Help documentation
<div id = 'go_help_search'></div>
</h1>
</div>

<div class = 'block-content'>
            <script type="text/javascript">
               if (typeof(Zenbox) !== "undefined") {
                  Zenbox.init({
                    dropboxID:   "20094116",
                    url:         "http://twstudios.zendesk.com",
                    tabID:       "Help",
                    tabColor:    "black",
                    tabPosition: "Right"
                  });
             }
            </script>
          </div>

<div id = 'main-container'>
<div id = 'search_results_container'>
<div class = 'action-bar' inner_wrapper_class = 'action-bar-inner-wrapper'>
<div class = 'action-bar-inner-wrapper'>
<a id = 'hide_search_results'>&nbsp;</a>
</div>
</div>

<div id = 'branding'></div>

<div id = 'search_results'></div>
</div>

<div id = 'main'>
<div class = 'chapter'>
<h1 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Pipeline API</h1>

<div class = 'content-container'>
<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Introduction</h3>

<div class = 'content-container'>
      <div class="note-box" style="padding: 0px 0pt 0pt">
    	  <div class="ab-bg">
      		<span class="ab-corner lvl1"></span>
      		<span class="ab-corner lvl2"></span>
      		<span class="ab-corner lvl3"></span>
      		<span class="ab-corner lvl4"></span>
      	</div>
      	<div class="box-content">
    
<p class = 'box'>The Go API documented here is a work in progress. Future versions may change this API.</p>
	
        </div>
    	  <div class="ab-bg">
      		<span class="ab-corner lvl4"></span>
      		<span class="ab-corner lvl3"></span>
      		<span class="ab-corner lvl2"></span>
      		<span class="ab-corner lvl1"></span>
      	</div>
      </div>
    
<p>This API allows you to schedule new pipelines and unlock pipelines.</p>
</div>
</div>

<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' id = 'scheduling' class = 'collapsible-heading'>Scheduling pipelines</h3>

<div class = 'content-container'>
<p>You can specify particular versions of the materials to use for the new pipeline.
            If you do not specify a particular revision for a material, Go will use the latest.
        </p>

<p>To choose which revision to use for a material it must have a
            
<strong>materialName</strong>

            defined.
            By default the materialName of an upstream pipeline is the name of that pipeline. You can override this and specify a materialName, and then use this in the following APIs.
        </p>

<p>You can also parametrize your deployment script with environment variables at the time of triggering a pipeline. You can specify the value for any of the environment variables specified in
            the configuration file. This value will get carried all the way through to the relevant jobs. You can override the value of an environment variables specified at the environment, pipeline,
            stage or job level(in the configuration file) for that pipeline.
        </p>

<p>If a new value for an environment variable is not provided at the time of triggering the pipeline, then the values specified in the configuration file for this pipeline will be used.
        </p>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' id = 'key' class = 'collapsible-heading'>Key</h4>

<div class = 'content-container'>
<table>
<caption>Parameters</caption>

<p>
<strong>POST</strong>

                    to
                    
<strong>URL http://[server]:8153/go/api/pipelines/[pipeline]/schedule</strong>

                    with data as shown below.
                </p>

<tr class = 'table-header'>
<th>HTTP Verb</th>

<th>Data</th>

<th>Explanation</th>
</tr>

<tr class = 'odd'>
<th>POST</th>

<td>no parameters</td>

<td>Triggers a new instance of the specified pipeline with the latest revision of all materials</td>
</tr>

<tr class = 'odd'>
<th>POST</th>

<td>materials[svn_material]=3456</td>

<td>Triggers a new instance of the specified pipeline with revision 3456 of the svn material and the latest of all other materials</td>
</tr>

<tr class = 'odd'>
<th>POST</th>

<td>materials[repo-name:pkg-name]=gcc-4.4.7-3.el6.x86_64</td>

<td>Triggers a new instance of the specified pipeline with revision gcc-4.4.7-3.el6.x86_64 of the rpm <a href = 'package_material.html'>package material</a> and the latest of all other materials</td>
</tr>

<tr class = 'odd'>
<th>POST</th>

<td>materials[svn_material]=3456&amp;materials[upstream_foo]=upstream_foo/2/dist/1</td>

<td>Triggers a new instance of the specified pipeline with revision 3456 of the svn material and instance 'upstream/2/dist/1' of the upstream pipeline</td>
</tr>

<tr class = 'odd'>
<th>POST</th>

<td>materials[svn_material]=3456&amp;materials[my-upstream-pipeline-name]=upstream_bar/2/dist/1</td>

<td>Triggers a new instance of the specified pipeline with revision 3456 of the svn material and instance 'upstream/2/dist/1' of the upstream pipeline.
                        Here the upstream pipeline's materialName is set to 'my-upstream-pipeline-name'.
                    </td>
</tr>
</table>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Examples</h4>

<div class = 'content-container'>
<ul>
<li>We use curl, a command line tool to demonstrate the use of the API, in the following examples. Of course, you can use any HTTP client library.</li>

<li>We assume that the URL of the Go server is
<strong>http://goserver.com:8153/</strong>
.
                </li>

<li>We assume security has been switched on, and that there is a user named
                    
<strong>jez</strong>

                    with the password
<strong>badger</strong>
.
                </li>
</ul>

<p>The upstream pipeline (which is a material for 'foo') looks like:</p>

<pre class = 'code'>
                    &lt;pipeline name="upstream_foo" labeltemplate="upstream_foo-1.0-${COUNT}">
                       &lt;material>
                            &lt;svn url="..."/>
                       &lt;/material>
                       &lt;stage name="Dist">
                         &lt;job name="dist">
                           &lt;tasks>
                              &lt;ant target="dist"/>
                           &lt;/tasks>
                         &lt;/job>
                       &lt;/stage>
                    &lt;/pipeline>
                    ....
                    &lt;pipeline name="upstream_bar" labeltemplate="upstream_bar-1.2-${COUNT}">
                    ...
                </pre>

<p>And the pipeline configuration looks like:</p>

<pre class = 'code'>
                    &lt;pipeline name="foo" labeltemplete="foo-1.0-${COUNT}">
                       &lt;environmentvariables>
                            &lt;variable name="MACHINE_IP">&lt;value>10.22.12.2&lt;/value>&lt;/variable>
                            &lt;variable name="PASSWORD" secure="true">&lt;encryptedValue>pVyuW5ny9I6YT4Ou+KLZhQ==&lt;/encryptedValue>&lt;/variable>
                       &lt;/environmentvariables>
                       &lt;material>
                            &lt;svn url="http://thoughtworks.com:8080" materialName="svn_material"/>
                            &lt;svn url="http://thoughtworks.com:8080" materialName="svn_material"/>
                            &lt;pipeline pipelineName="upstream_foo" stageName="Dist"/>
                            &lt;pipeline pipelineName="upstream_bar" stageName="Installers" materialName="my-upstream-pipeline-name"/>
                            &lt;hg url="http://10.22.12.2:8000 materialName ="hg_material"/>
                       &lt;/material>
                       &lt;stage name="DEV">
                         &lt;environmentvariables>
                           &lt;variable name="MACHINE_IP">10.22.2.12&lt;/variable>
                         &lt;/environmentvariables>
                         &lt;job name="UnitTest">
                           &lt;environmentvariables>
                              &lt;variable name="TLB_TMP_DIR">C:\tlb_tmp_dir&lt;/variable>
                           &lt;/environmentvariables>
                           &lt;tasks>
                              &lt;ant target="ut"/>
                           &lt;/tasks>
                           &lt;artifacts>
                              &lt;artifact  src="coverage" dest="coveragereport.html"/>
                           &lt;/artifacts>
                         &lt;/job>
                       &lt;/stage>
                       &lt;stage name="UATTest">
                         &lt;job name="UAT">
                           &lt;tasks>
                              &lt;ant target="all-UAT"/>
                           &lt;/tasks>
                           &lt;artifacts>
                              &lt;artifact  src="report" dest="UATreport.html"/>
                              &lt;artifact  src="target" dest="pkg/foo.war"/>
                           &lt;/artifacts>
                         &lt;/job>
                       &lt;/stage>
                    &lt;/pipeline>
                </pre>

<p>If you want to trigger a new instance of the pipeline with the latest of all materials</p>

<pre class = 'code'>curl -u jez:badger -d "" http://goserver.com:8153/go/api/pipelines/foo/schedule</pre>

<p>If you want to trigger a new instance of the pipeline 'foo' with revision '3456' of your svn repository and instance 'upstream_foo/1/dist/2' of the upstream pipeline</p>

<pre class = 'code'>curl -u jez:badger -d "materials[svn_material]=3456&materials[upstream_foo]=upstream_foo/1/dist/2" http://goserver.com:8153/go/api/pipelines/foo/schedule</pre>

<p>If you want to trigger a new instance of the pipeline 'foo' with revision '3456' of your svn repository and instance 'upstream_bar/1/Installers/2' of the upstream pipeline</p>

<pre class = 'code'>curl -u jez:badger -d "materials[svn_material]=3456&materials[my-upstream-pipeline-name]=upstream_bar/1/dist/2" http://goserver.com:8153/go/api/pipelines/foo/schedule</pre>

<p>You can also use the following form, passing the materials as part of the URL</p>

<pre class = 'code'>curl -u jez:badger -d "materials[svn_material]=3456&materials[upstream_foo]=upstream_foo/1/dist/2" http://goserver.com:8153/go/api/pipelines/foo/schedule</pre>

<p>If you want to trigger a new instance of the pipeline 'foo' with revision '3456' of your svn repository and parametrize the environment variable MACHINE_IP with new value '10.21.2.2'
                for this specific run
            </p>

<pre class = 'code'>curl -u jez:badger -d "materials[svn_material]=3456&variables[MACHINE_IP]=10.21.2.2" http://goserver.com:8153/go/api/pipelines/foo/schedule</pre>

<p>If you want to trigger a new instance of the pipeline with the latest of all materials and parametrize the environment variable MACHINE_IP with new value '10.21.2.2' for this specific
                run
            </p>

<pre class = 'code'>curl -u jez:badger -d "variables[MACHINE_IP]=10.21.2.2&variables[TLB_TMP_DIR]=C:\tlb_tmp_dir" http://goserver.com:8153/go/api/pipelines/foo/schedule</pre>

<ul>
<li>Similar to overriding variables, you can override secure variables while triggering a new instance of the pipeline</li>
</ul>

<p>If you want to trigger a new instance of the pipeline with the latest of all materials and parametrize the secure variable PASSWORD with a new value 'new_password' for this specific
                run
            </p>

<pre class = 'code'>curl -u jez:badger -d "secure_variables[PASSWORD]=new_password" http://goserver.com:8153/go/api/pipelines/foo/schedule</pre>
</div>
</div>
</div>
</div>

<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' id = 'releasing' class = 'collapsed-heading'>Releasing a pipeline lock</h3>

<div class = 'content-container collapsed'>
<p>
            This API allows you to release a lock on a pipeline so that you can start up a new instance without having to wait for the earlier instance to finish.
        </p>

<p>A pipeline lock can only be released when:</p>

<ul>
<li>A locked pipeline has stopped because of a failed stage</li>

<li>A locked pipeline has stopped because of a canceled stage</li>

<li>A locked pipeline is waiting for a manual stage (i.e. a stage requiring manual approval)</li>
</ul>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Key</h4>

<div class = 'content-container'>
<table>
<caption>Parameters</caption>

<p>
<strong>POST</strong>

                    to
                    
<strong>URL http://[server]:8153/go/api/pipelines/[pipeline]/releaseLock</strong>

                    with data as shown below.
                </p>

<tr class = 'table-header'>
<th>HTTP Verb</th>

<th>Data</th>

<th>Explanation</th>
</tr>

<tr class = 'odd'>
<th>POST</th>

<td>no parameters</td>

<td>Releases a lock on the specified pipeline</td>
</tr>
</table>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Response Codes</h4>

<div class = 'content-container'>
<table>
<tr class = 'table-header'>
<th>HTTP response code</th>

<th>Explanation</th>
</tr>

<tr class = 'odd'>
<th>200</th>

<td>pipeline lock released for [pipeline]</td>
</tr>

<tr class = 'odd'>
<th>404</th>

<td>[pipeline] is does not exist</td>
</tr>

<tr class = 'odd'>
<th>406</th>

<td>no lock exists within the pipeline configuration for [pipeline]</td>
</tr>

<tr class = 'odd'>
<th>406</th>

<td>lock exists within the pipeline configuration but no pipeline instance is currently in progress</td>
</tr>

<tr class = 'odd'>
<th>406</th>

<td>locked pipeline instance is currently running (one of the stages is in progress)</td>
</tr>

<tr class = 'odd'>
<th>401</th>

<td>user does not have operate permission on the pipeline</td>
</tr>
</table>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Examples</h4>

<div class = 'content-container'>
<ul>
<li>We use curl, a command line tool to demonstrate the use of the API, in the following examples. Of course, you can use any HTTP client library.</li>

<li>We assume that the URL of the Go server is
<strong>http://goserver.com:8153/</strong>
.
                </li>

<li>We assume security has been switched on, and that there is a user named
                    
<strong>jez</strong>

                    with the password
<strong>badger</strong>
.
                </li>
</ul>

<p>The pipeline configuration looks like:</p>

<pre class = 'code'>
                    &lt;pipeline name="foo" labeltemplete="foo-1.0-${COUNT}" isLocked="true">
                       &lt;material>
                            &lt;hg url="http://10.22.12.2:8000 materialName ="hg_material"/>
                       &lt;/material>
                       &lt;stage name="DEV">
                         &lt;job name="UnitTest">
                           &lt;tasks>
                              &lt;ant target="ut"/>
                           &lt;/tasks>
                         &lt;/job>
                       &lt;/stage>
                       &lt;stage name="UATTest">
                         &lt;job name="UAT">
                           &lt;tasks>
                              &lt;ant target="all-UAT"/>
                           &lt;/tasks>
                           &lt;artifacts>
                              &lt;artifact  src="target" dest="pkg/foo.war"/>
                           &lt;/artifacts>
                         &lt;/job>
                       &lt;/stage>
                    &lt;/pipeline>
                </pre>

<p>Let's say the
                
<strong>"DEV"</strong>

                stage failed in an instance of pipeline
                
<strong>"foo"</strong>
. Run this command to release the lock:
            </p>

<pre class = 'code'>curl -u jez:badger -d "" http://goserver.com:8153/go/api/pipelines/foo/releaseLock</pre>
</div>
</div>
</div>
</div>

<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' id = 'releasing' class = 'collapsed-heading'>Scheduled Jobs</h3>

<div class = 'content-container collapsed'>
<p>
            This api gives a list of all the current job instances which are scheduled but not yet assigned to any agent.
        </p>

<p>The XML output provides:</p>

<ul>
<li>Pipeline, stage and their counters for this job instance.</li>

<li>Resources allotted to the job.</li>

<li>Environments the job's pipeline belongs to.</li>

<li>Environment Variables configured for the job.</li>
</ul>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Examples</h4>

<div class = 'content-container'>
<ul>
<li>We use curl,a command line tool to demonstrate the use of the API, in the following examples. Of course, you can use any HTTP client library.</li>

<li>We assume that the URL of the Go server is
<strong>http://goserver.com:8153/</strong>
.
                </li>

<li>We assume security has been switched on, and that there is a user named
                    
<strong>jez</strong>

                    with the password
<strong>badger</strong>
.
                </li>
</ul>

<p>Run this command to get the list of scheduled jobs:
            </p>

<pre class = 'code'>curl -u jez:badger -d "" http://go-server.com:8153/go/api/jobs/scheduled.xml</pre>

<p>Sample output is shown below:
            </p>

<pre class = 'code'>
        &lt;scheduledJobs>
          &lt;job name="fresh.install.go" id="186225">
            &lt;link rel="self" href="http://go-server:8153/go/tab/build/detail/auto-deploy-testing-open-solaris/11/fresh-install/1/fresh.install.go"/>
            &lt;buildLocator>
              auto-deploy-testing-open-solaris/11/fresh-install/1/fresh.install.go
            &lt;/buildLocator>
            &lt;environment>AutoDeploy-OpenSolaris&lt;/environment>
            &lt;resources>
              &lt;resource>
                &lt;autodeploy >
              &lt;/resource>
            &lt;/resources>
            &lt;environmentVariables>
              &lt;variable name="TWIST_SERVER_PATH">/etc/go&lt;/variable>
              &lt;variable name="TWIST_SERVER_CONFIG_PATH">/etc/go&lt;/variable>
              &lt;variable name="TWIST_AGENT_PATH">/var/lib/go-agent&lt;/variable>
            &lt;/environmentVariables>
          &lt;/job>
          &lt;job name="publish" id="285717">
            &lt;link rel="self" href="http://go-server:8153/go/tab/build/detail/go-ec2-plugin/26/dist/1/publish"/>
            &lt;buildLocator>go-ec2-plugin/26/dist/1/publish&lt;/buildLocator>
            &lt;environment>performance-ec2&lt;/environment>
            &lt;resources>
              &lt;resource>
                &lt;deploy-agent>
              &lt;/resource>
            &lt;/resources>
          &lt;/job>
          &lt;job name="upgrade" id="297092">
            &lt;link rel="self" href="http://go-server:8153/go/tab/build/detail/upgrade_qa_server/15/upgrade/1/upgrade"/>
            &lt;buildLocator>upgrade_qa_server/15/upgrade/1/upgrade&lt;/buildLocator>
            &lt;environment>UAT&lt;/environment>
            &lt;resources>
              &lt;resource>
                &lt;UAT-Server>
              &lt;/resource>
            &lt;/resources>
          &lt;/job>
        &lt;/scheduledJobs>
            </pre>
</div>
</div>
</div>
</div>

<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' class = 'collapsed-heading'>Pause And Unpause Pipelines</h3>

<div class = 'content-container collapsed'>
<p>
            This API provides the ability to pause and unpause a pipeline.
        </p>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Pause a pipeline</h4>

<div class = 'content-container'>
<p>API to pause a pipeline needs the following as input:</p>

<ul>
<li>Name of the pipeline.</li>

<li>Reason for pausing the pipeline.</li>
</ul>

<p>Security Note: The user invoking the API should have sufficient permission to operate on the pipeline.</p>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Key</h4>

<div class = 'content-container'>
<table>
<caption>Parameters</caption>

<p>
<strong>POST</strong>

                        to
                        
<strong>URL http://[server]:8153/go/api/pipelines/[pipeline]/pause</strong>

                        with data as shown below.
                    </p>

<tr class = 'table-header'>
<th>HTTP Verb</th>

<th>Data</th>

<th>Explanation</th>
</tr>

<tr class = 'odd'>
<th>POST</th>

<td>pauseCause</td>

<td>Pauses the specified pipeline with the given reason.</td>
</tr>
</table>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Response Codes</h4>

<div class = 'content-container'>
<table>
<tr class = 'table-header'>
<th>HTTP response code</th>

<th>Explanation</th>
</tr>

<tr class = 'odd'>
<th>200</th>

<td>[pipeline] paused with the given cause.</td>
</tr>

<tr class = 'odd'>
<th>404</th>

<td>[pipeline] does not exist.</td>
</tr>

<tr class = 'odd'>
<th>401</th>

<td>User does not have operate permission on the pipeline.</td>
</tr>
</table>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Examples</h4>

<div class = 'content-container'>
<ul>
<li>We use curl, a command line tool to demonstrate the use of the API, in the following examples. Of course, you can use any HTTP client library.</li>

<li>We assume that the URL of the Go server is
<strong>http://goserver.com:8153/</strong>
.
                    </li>

<li>We assume security has been switched on, and that there is a user named
                        
<strong>jez</strong>

                        with the password
<strong>badger</strong>
.
                    </li>
</ul>

<p>Assuming the pipeline configuration looks like:</p>

<pre class = 'code'>
                    &lt;pipeline name="demo_pipeline" labeltemplate="demo_pipeline-1.0-${COUNT}">
                       &lt;material>
                            &lt;svn url="..."/>
                       &lt;/material>
                       &lt;stage name="first_stage">
                         &lt;job name="first_job">
                           &lt;tasks>
                              &lt;ant target="run"/>
                           &lt;/tasks>
                         &lt;/job>
                       &lt;/stage>
                    &lt;/pipeline>
                    .... </pre>

<p>Run this command to pause the pipeline:</p>

<pre class = 'code'>curl -u jez:badger -d "pauseCause=take some rest" http://goserver.com:8153/go/api/pipelines/demo_pipeline/pause</pre>
</div>
</div>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Unpause a pipeline</h4>

<div class = 'content-container'>
<p>API to unpause a pipeline needs only the name of the pipeline as input.</p>

<p>Security Note: The user invoking the API should have sufficient permission to operate on the pipeline.</p>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Key</h4>

<div class = 'content-container'>
<p>
<strong>POST</strong>

                    to
                    
<strong>URL http://[server]:8153/go/api/pipelines/[pipeline]/unpause</strong>
</p>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Response Codes</h4>

<div class = 'content-container'>
<table>
<tr class = 'table-header'>
<th>HTTP response code</th>

<th>Explanation</th>
</tr>

<tr class = 'odd'>
<th>200</th>

<td>[pipeline] successfully unpaused.</td>
</tr>

<tr class = 'odd'>
<th>404</th>

<td>[pipeline] does not exist.</td>
</tr>

<tr class = 'odd'>
<th>401</th>

<td>User does not have operate permission on the pipeline.</td>
</tr>
</table>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Examples</h4>

<div class = 'content-container'>
<ul>
<li>We use curl, a command line tool to demonstrate the use of the API, in the following examples. Of course, you can use any HTTP client library.</li>

<li>We assume that the URL of the Go server is
<strong>http://goserver.com:8153/</strong>
.
                    </li>

<li>We assume security has been switched on, and that there is a user named
                        
<strong>jez</strong>

                        with the password
<strong>badger</strong>
.
                    </li>
</ul>

<p>Assuming the pipeline configuration looks like:</p>

<pre class = 'code'>
                    &lt;pipeline name="demo_pipeline" labeltemplate="demo_pipeline-1.0-${COUNT}">
                       &lt;material>
                            &lt;svn url="..."/>
                       &lt;/material>
                       &lt;stage name="first_stage">
                         &lt;job name="first_job">
                           &lt;tasks>
                              &lt;ant target="run"/>
                           &lt;/tasks>
                         &lt;/job>
                       &lt;/stage>
                    &lt;/pipeline>
                    .... </pre>

<p>Run this command to unpause the pipeline:</p>

<pre class = 'code'>curl -u jez:badger -d "" http://goserver.com:8153/go/api/pipelines/demo_pipeline/unpause</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<div id = 'no_result_message' class = 'error-box' style = 'display:none;'>
<div class = 'box-content'>
<div class = 'box'>Your search 
<span class = 'search_term'></span>
did not match any help pages.</div>
</div>
</div>

<div id = 'nav'>
<ul class = 'toc'>
<li>
<a href = 'welcome_to_go.html' class = 'current'>Welcome to Go</a>

<ul>
<li>
<a href = 'whats_new_in_go.html'>What's new in Go</a>
</li>

<li>
<a href = 'concepts_in_go.html'>Concepts in Go</a>
</li>
</ul>
</li>

<li>
<div>Installing Go</div>

<ul>
<li>
<a href = 'system_requirements.html'>System requirements</a>
</li>

<li>
<a href = 'installing_go_server.html'>Installing Go server</a>
</li>

<li>
<a href = 'installing_go_agent.html'>Installing Go agent</a>
</li>

<li>
<a href = 'run_go_without_install.html'>Running Go without installation</a>
</li>

<li>
<a href = 'upgrading_go.html'>Upgrading Go</a>
</li>

<li>
<a href = 'configuring_server_details.html'>Configuring server details</a>
</li>

<li>
<a href = 'configure_proxy.html'>Configure a Proxy</a>
</li>

<li>
<a href = 'performance_tuning.html'>Performance Tuning</a>
</li>
</ul>
</li>

<li>
<div>Using Go</div>

<ul>
<li>
<a href = 'quick_pipeline_setup.html'>Setup a new pipeline</a>
</li>

<li>
<a href = 'managing_pipelines.html'>Managing pipelines</a>
</li>

<li>
<a href = 'managing_a_build_cloud.html'>Managing agents</a>
</li>

<li>
<a href = 'managing_artifacts_and_reports.html'>Managing artifacts and reports</a>
</li>

<li>
<a href = 'managing_dependencies.html'>Managing dependencies</a>
</li>

<li>
<a href = 'managing_environments.html'>Managing environments</a>
</li>

<li>
<a href = 'dev_authentication.html'>Setting up authentication</a>
</li>

<li>
<a href = 'managing_users.html'>Managing Users</a>
</li>

<li>
<a href = 'dev_notifications.html'>Notifications</a>
</li>

<li>
<a href = 'properties.html'>Properties</a>
</li>

<li>
<a href = 'build_labelling.html'>Pipeline Labelling</a>
</li>

<li>
<a href = 'compare_pipelines.html'>Compare Builds</a>
</li>

<li>
<a href = 'go_integration.html'>Integration with external tools</a>
</li>

<li>
<a href = 'ordering_of_pipelines.html'>Ordering of pipelines</a>
</li>

<li>
<a href = 'pipeline_scheduling.html'>Pipeline Scheduling</a>
</li>

<li>
<a href = 'gadgets.html'>Gadgets</a>
</li>

<li>
<a href = 'delete_artifacts.html'>Auto delete artifacts</a>
</li>

<li>
<a href = 'job_timeout.html'>Job Timeout</a>
</li>

<li>
<a href = 'stage_duration_chart.html'>Graphs</a>
</li>

<li>
<a href = 'stage_old_config.html'>Historical Configuration</a>
</li>

<li>
<a href = 'command_repository.html'>Command Repository</a>
</li>

<li>
<a href = 'concurrent_config_modifications.html'>Concurrent Modifications to Go's Configuration</a>
</li>

<li>
<a href = 'package_material.html'>Package Material</a>
</li>

<li>
<a href = 'plugin_user_guide.html'>Plugin User Guide</a>
</li>
</ul>
</li>

<li>
<div>Go Tour</div>

<ul>
<li>
<a href = 'Pipelines_Dashboard_page.html'>Pipelines Dashboard</a>
</li>

<li>
<a href = 'agents_page.html'>Agents</a>
</li>

<li>
<a href = 'pipeline_activity_page.html'>Pipeline Activity</a>
</li>

<li>
<a href = 'stage_details_page.html'>Stage Details</a>
</li>

<li>
<a href = 'job_details_page.html'>Job Details</a>
</li>

<li>
<a href = 'administration_page.html'>Administration</a>
</li>

<li>
<a href = 'server_details_page.html'>Server Details</a>
</li>

<li>
<a href = 'environments_page.html'>Environments</a>
</li>

<li>
<a href = 'value_stream_map.html'>Value Stream Map</a>
</li>
</ul>
</li>

<li>
<div>As a Developer, I want to...</div>

<ul>
<li>
<a href = 'Pipelines_Dashboard_page.html'>...watch what's currently building</a>
</li>

<li>
<a href = 'trigger_with_options.html'>...trigger a pipeline with a different revision of material</a>
</li>

<li>
<a href = 'dev_notifications.html'>...be notified when I break the build</a>
</li>

<li>
<a href = 'dev_understand_why_build_broken.html'>...understand why the build is broken</a>
</li>

<li>
<a href = 'dev_see_artifact_as_tab.html'>...see my artifacts as a sub-tab on the Job Details page</a>
</li>

<li>
<a href = 'dev_save_properties.html'>...save properties about a build</a>
</li>

<li>
<a href = 'dev_clean_up_when_cancel.html'>...clean up my environment when I cancel a task</a>
</li>

<li>
<a href = 'dev_conditional_task_execution.html'>...only run a task when the build has failed</a>
</li>

<li>
<a href = 'dev_use_current_revision_in_build.html#current'>...use the current revision in my build</a>
</li>
</ul>
</li>

<li>
<div>As a Tester, I want to...</div>

<ul>
<li>
<a href = 'rm_deploy_to_environment.html#deploy_uat'>...release something into my UAT environment</a>
</li>

<li>
<a href = 'tester_what_has_changed.html'>...know what has changed in my new binary</a>
</li>

<li>
<a href = 'dependency_management.html'>...ensure appropriate tests are run against new builds</a>
</li>
</ul>
</li>

<li>
<div>As a Release Manager, I want to...</div>

<ul>
<li>
<a href = 'rm_deploy_to_environment.html#deploy_prod'>...release something into production</a>
</li>

<li>
<a href = 'rm_what_is_deployed.html'>...know what's currently in production</a>
</li>

<li>
<a href = 'deploy_a_specific_build_to_an_environment.html'>...deploy a specific build to production</a>
</li>

<li>
<a href = 'managing_environments.html'>...manage my environments</a>
</li>
</ul>
</li>

<li>
<div>As a Go Administrator, I want to...</div>

<ul>
<li>
<a href = 'pipeline_templates.html'>...template my pipelines</a>
</li>

<li>
<a href = 'admin_use_parameters_in_configuration.html'>...parameterize my pipelines</a>
</li>

<li>
<a href = 'installing_go_agent.html'>...install a new agent</a>
</li>

<li>
<a href = 'agent_auto_register.html'>...auto register a remote agent</a>
</li>

<li>
<a href = 'agent_guid_issue.html'>...clone/copy existing agents</a>
</li>

<li>
<a href = 'admin_install_multiple_agents.html'>...install multiple agents on one machine</a>
</li>

<li>
<a href = 'agents_page.html#filter_agents'>...view and filter agents</a>
</li>

<li>
<a href = 'quick_pipeline_setup.html'>...add a new pipeline</a>
</li>

<li>
<a href = 'admin_add_material.html'>...add a new  material to an existing pipeline</a>
</li>

<li>
<a href = 'admin_add_stage.html'>...add a new stage to an existing pipeline</a>
</li>

<li>
<a href = 'admin_add_job.html'>...add a new job to an existing stage</a>
</li>

<li>
<a href = 'admin_run_on_all_agents.html'>...run the same job on a group of agents</a>
</li>

<li>
<a href = 'dev_use_current_revision_in_build.html#job'>...pass environment variables to jobs</a>
</li>

<li>
<a href = 'admin_lock_pipelines.html'>...ensure only one instance of a pipeline can run at the same time</a>
</li>

<li>
<a href = 'dev_choose_when_stage_runs.html'>...choose when a certain stage runs</a>
</li>

<li>
<a href = 'admin_use_custom_pipeline_label.html'>...use a custom pipeline label</a>
</li>

<li>
<a href = 'managing_dependencies.html'>...manage my dependent pipelines</a>
</li>

<li>
<a href = 'dev_authentication.html'>...enable authentication on my Go server</a>
</li>

<li>
<a href = 'dev_authentication.html#ldap_authentication'>..configure LDAP access for my Go server</a>
</li>

<li>
<a href = 'dev_authorization.html'>...change permissions for different actions</a>
</li>

<li>
<a href = 'dev_authorization.html#pipeline-groups'>...ensure only certain users can see a group of pipelines</a>
</li>

<li>
<a href = 'dev_upload_test_report.html'>...publish reports and artifacts</a>
</li>

<li>
<a href = 'ui_testing.html'>...configure an agent to run UI tests</a>
</li>

<li>
<a href = 'admin_mailhost_info.html'>...add mailhost information to support email notifications</a>
</li>

<li>
<a href = 'admin_out_of_disk_space.html'>...clean up old artifacts when running out of disk space</a>
</li>

<li>
<a href = 'admin_timer.html'>...run a pipeline on a schedule</a>
</li>

<li>
<a href = 'managing_a_build_cloud.html#pausing_agent'>...pause an agent</a>
</li>

<li>
<a href = 'agent_details.html#identifying_environment_issues'>...see if a job fails because of an environment issue</a>
</li>

<li>
<a href = 'delegating_group_administration.html'>...delegating group administration</a>
</li>

<li>
<a href = 'one_click_backup.html'>...backup Go server</a>
</li>

<li>
<a href = 'material_update_hung.html'>...be notified when Go server is not able to poll for changes</a>
</li>
</ul>
</li>

<li>
<div>Mingle Integration</div>

<ul>
<li>
<a href = 'mingle_in_go.html'>Displaying Mingle gadgets in Go</a>
</li>

<li>
<a href = 'mingle_card_activity_gadget.html'>Mingle Card Activity Gadget</a>
</li>
</ul>
</li>

<li>
<a href = 'http://support.thoughtworks.com/categories/20002778-go-community-support'>FAQ/Troubleshooting</a>
</li>

<li>
<a href = 'go_api.html'>Go API</a>

<ul>
<li>
<a href = 'Artifacts_API.html'>Artifacts API</a>
</li>

<li>
<a href = 'Properties_API.html'>Properties API</a>
</li>

<li>
<a href = 'Configuration_API.html'>Configuration API</a>
</li>

<li>
<a href = 'Pipeline_API.html'>Pipeline API</a>
</li>

<li>
<a href = 'Stages_API.html'>Stages API</a>
</li>

<li>
<a href = 'command_repo_api.html'>Command Repo API</a>
</li>

<li>
<a href = 'Agent_API.html'>Agent API</a>
</li>

<li>
<a href = 'Feeds_API.html'>Feeds API</a>
</li>

<li>
<a href = 'Backup_API.html'>Backup API</a>
</li>

<li>
<a href = 'materials_api.html'>Materials API</a>
</li>

<li>
<a href = 'users_api.html'>Users API</a>
</li>
</ul>
</li>

<li>
<div>Extension Points of Go</div>

<ul>
<li>
<a href = 'go_plugins_basics.html'>Plugins in Go</a>
</li>

<li>
<a href = 'resources/javadoc/index.html' target = '_blank'>Go Plugin API</a>
</li>

<li>
<a href = 'writing_go_package_material_plugin.html'>Writing a package material plugin</a>
</li>
</ul>
</li>

<li>
<div>Bundled Plugins</div>

<ul>
<li>
<a href = 'yum_repository_poller.html'>Yum Repository Poller</a>
</li>
</ul>
</li>

<li>
<div>Configuration</div>

<ul>
<li>
<a href = 'configuration_reference.html'>Configuration Reference</a>
</li>

<li>
<a href = 'schema.html'>Schema</a>
</li>
</ul>
</li>
</ul>
</div>

<div id = 'ft' class = 'footer'>&copy; ThoughtWorks Studios, 2010</div>
</body>
</html>
