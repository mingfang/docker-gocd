
<!doctype html>

<html xmlns = 'http://www.w3.org/1999/xhtml' xml:lang = 'en' lang = 'en'>
<head>
<meta http-equiv = 'Content-Type' content = 'text/html; charset=UTF-8'></meta>

<meta name = 'google-site-verification' content = 'ALfMTxdH04YK-7c9mgrjLTkrOP55XqZtXqFk1dqCB4M'></meta>

<title>OAuth Overview</title>

<link href = 'resources/stylesheets/help.css' media = 'screen' rel = 'Stylesheet' type = 'text/css'></link>

<link href = '//assets.zendesk.com/external/zenbox/v2.5/zenbox.css' media = 'screen, projection' rel = 'Stylesheet' type = 'text/css'></link>

<link href = 'resources/stylesheets/help_search.css' media = 'screen' rel = 'Stylesheet' type = 'text/css'></link>

<script src = '//www.google.com/jsapi' type = 'text/javascript'></script>

<link href = '/go/images/cruise.ico' rel = 'shortcut icon'></link>

<script src = 'resources/javascript/prototype.js' type = 'text/javascript'></script>

<script src = '//assets.zendesk.com/external/zenbox/v2.5/zenbox.js' type = 'text/javascript'></script>

<script src = 'resources/javascript/help.js' type = 'text/javascript'></script>

<script src = 'resources/javascript/help_search.js' type = 'text/javascript'></script>
</head>

<body>
<div id = 'hd'>
<h1>Help documentation
<div id = 'go_help_search'></div>
</h1>
</div>

<div class = 'block-content'>
            <script type="text/javascript">
               if (typeof(Zenbox) !== "undefined") {
                  Zenbox.init({
                    dropboxID:   "20094116",
                    url:         "http://twstudios.zendesk.com",
                    tabID:       "Help",
                    tabColor:    "black",
                    tabPosition: "Right"
                  });
             }
            </script>
          </div>

<div id = 'main-container'>
<div id = 'search_results_container'>
<div class = 'action-bar' inner_wrapper_class = 'action-bar-inner-wrapper'>
<div class = 'action-bar-inner-wrapper'>
<a id = 'hide_search_results'>&nbsp;</a>
</div>
</div>

<div id = 'branding'></div>

<div id = 'search_results'></div>
</div>

<div id = 'main'>
<div class = 'chapter'>
<h1 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>OAuth Overview</h1>

<div class = 'content-container'>
<p>Go implements the OAuth protocol to authorize third party application's (client's) request to access data on the Go server.</p>

<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>What is OAuth?</h3>

<div class = 'content-container'>
<p>OAuth is an open-source specification for building a framework for allowing a third-party app (the “client”) to access protected resources from another application (the “provider,” or “resource owner”) at the request of a “user” of the client app. Oauth allows the user to enter his user credentials (ex. username and password) only to the provider app, which then grants the client app permission to view the protected resources on behalf of the user. </p>

<p>
            Common terms:
            
<ul>
<li>Provider/Resource Owner – the app that hosts the protected resource. An example is Twitter which uses OAuth as the protocol for all its clients. In the context of this document, Go is the provider/resource owner.</li>

<li>Client – the app that requests to see the resource data on behalf of the user. Any Twitter client that shows tweets is an example of this. An HTML gadget that displays the status of all Go pipelines running on a server is also an example of a client.</li>

<li>User/end user – the entity who initiates the OAuth flow to allow the client to access protected data from the provider.</li>

<li>Client id/client secret – Often, provider apps will maintain a list of clients that are allowed to access their data. Client apps can be identified in a number of ways, including with an id and a secret.</li>
</ul>
</p>
</div>
</div>

<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>OAuth Authorization Workflow</h3>

<div class = 'content-container'>
<p>
            An overview of the basic OAuth workflow can be found at <a href = 'http://oauth.net/documentation/getting-started/' target = 'http://oauth.net/documentation/getting-started/'>Beginner's guide to OAuth</a>.
        </p>
</div>
</div>

<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Manage OAuth Clients</h3>

<div class = 'content-container'>
<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsed-heading'>Create a new OAuth client</h4>

<div class = 'content-container collapsed'>
<p>Before any third-party application can use Go gadgets, it needs to be registered in Go as an OAuth client.</p>

<ul>
<li>Login as an administrator to Go.</li>

<li>Navigate to the 
<strong>Admin page</strong>
, then the 
<strong>OAuth Clients</strong>
 tab.</li>

<li>Click the 
<strong>New OAuth Client</strong>
 button.</li>

<li>Fill in the 
<strong>Name</strong>
 and 
<strong>Redirect URL</strong>
 for the third-party application. The redirect URL is where Go will send the end-user to once the authorization process is complete.</li>

<li>You'll be presented with a summary of the newly registered application. Use the provided Client ID and Secret in the third-party application to enable OAuth communications with Go.</li>
</ul>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsed-heading'>Edit an existing OAuth client</h4>

<div class = 'content-container collapsed'>
<p>If you've already registered an OAuth Client, but want to change its name or redirect URL, here's how:</p>

<ul>
<li>Login as an administrator to Go.</li>

<li>Navigate to the 
<strong>Admin page</strong>
, then the 
<strong>OAuth Clients</strong>
 tab.</li>

<li>Locate the Client you want to modify and click the 
<strong>Edit</strong>
 link next to it.</li>

<li>Edit the necessary fields and click the 
<strong>Update</strong>
 button to save your changes.</li>
</ul>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsed-heading'>Delete an existing OAuth client</h4>

<div class = 'content-container collapsed'>
<p>If you want to un-register/delete an OAuth Client (prevent it from accessing Go via OAuth), here's how:</p>

<ul>
<li>Login as an administrator to Go.</li>

<li>Navigate to the 
<strong>Admin page</strong>
, then the 
<strong>OAuth Clients</strong>
 tab.</li>

<li>Locate the Client you want to delete and click the 
<strong>Destroy</strong>
 link next to it.</li>

<li>Confirm the deletion in the popup box.</li>
</ul>
</div>
</div>
</div>
</div>

<div class = 'section'>
<h3 onclick = 'toggleCollapse($(this));' class = 'collapsible-heading'>Consume Go Gadgets</h3>

<div class = 'content-container'>
<p>If you are a third-part client developer and want to consume Go gadgets, the following sections will provide you an overview of what you need to do to consume gadgets using OAuth.</p>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsed-heading'>Request for authorization code</h4>

<div class = 'content-container collapsed'>
<p>Your client needs to contact Go server for an authorization code using the client Id and client secret. Go verifies that the requesting application has been registered with it.
    
<p>Send a request to: https://your-go-server.com:8154/oauth/authorize with the following query parameters:</p>

<table>
<tr class = 'table-header'>
<th>Query Parameter</th>

<th>Description</th>
</tr>

<tr class = 'odd'>
<td>client_id</td>

<td>(required) The client identifier for your application. </td>
</tr>

<tr class = 'odd'>
<td>redirect_uri</td>

<td>(required) URL where the user should be redirected to after access to the service is granted. This uri can also include url-encoded query parameters</td>
</tr>

<tr class = 'odd'>
<td>response_type</td>

<td>(required) The type of response. Should always be 'code' in this case</td>
</tr>
</table>

<p>
<strong> Example Request: </strong>

<pre class = 'code'> https://www.your-go-server.com:8154/oauth/authorize?redirect_uri=http://www.my_redirect_uri.com&client_id=ac212ddea07c6ac009d26de8090f5918f73ae648dc3676b1f00aeeae4fca67e1&response_type=code</pre>
</p>

<p> If you type the above request on a browser, you should see a form asking you to authorize the client to access the host application on your behalf. Check the check box and submit. </p>

<p>Your browser is redirected to your redirect URI and you should now see your authorization code as the “code” parameter. Save this code, you will need it for the next step.</p>

<p>
<strong> Example Response: </strong>

<pre class = 'code'>http://www.my_redirect_uri.com?code=26a7dea5e7e121be5ad5832a4a5b09d505c234c7625de3f375971264688bdb51</pre>
</p>
</p>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsed-heading'>Get access token</h4>

<div class = 'content-container collapsed'>
<p> For this step you’ll need to send a POST request to  /oauth/token with the following key/value pairs as form data:
    
<table>
<tr class = 'table-header'>
<th>Form Data Parameter</th>

<th>Description</th>
</tr>

<tr class = 'odd'>
<td>code</td>

<td>(required) This is the authorization code that you got from the previous step.</td>
</tr>

<tr class = 'odd'>
<td>grant_type</td>

<td>(required) Should be 'authorization-code' for this request</td>
</tr>

<tr class = 'odd'>
<td>client_id</td>

<td>(required) The client identifier for your application. </td>
</tr>

<tr class = 'odd'>
<td>client_secret</td>

<td>(required) The client secret for your application. </td>
</tr>

<tr class = 'odd'>
<td>redirect_uri</td>

<td>(required) URL where the user should be redirected to after access to the service is granted. This uri can also include url-encoded query parameters</td>
</tr>
</table>

<p>
<strong>Example Request (in curl)</strong>
: 
<pre class = 'code'>curl  https://www.your-go-server:8154/go/oauth/token -d  "code=26a7dea5e7e121be5ad5832a4a5b09d505c234c7625de3f375971264688bdb51&grant_type=authorization-code&client_id=ac212ddea07c6ac009d26de8090f5918f73ae648dc3676b1f00aeeae4fca67e1&client_secret=d1b54df502f162108a6136ec584dc637a7ad5578832a5db364e0d7b47657c718&redirect_uri=www.my_redirect_uri.com" -v </pre>
</p>
</p>

<p>The response to the above POST request will be a JSON containing your access token, and its expiration time in seconds</p>

<p>
<strong>Example Response:</strong>

<pre class = 'code'>{:access_token => f180f7bb68d38531aac2f49e5b0cac0c5ed5ced9b72842a429e783747e819664, :expires_in => 3529, :refresh_token => e1n54df802f162108a6336ec584dc637a7ad5578832a5db364e0d7b47657c875}
  </pre>
</p>
</div>
</div>

<div class = 'subsection'>
<h4 onclick = 'toggleCollapse($(this));' class = 'collapsed-heading'>Use the access token</h4>

<div class = 'content-container collapsed'>
<p> Now you are ready to query data from the Go server. </p>

<p>
<strong> Example Request: </strong>

<pre class = 'code'> curl -H 'Authorization: Token token="f180f7bb68d38531aac2f49e5b0cac0c5ed5ced9b72842a429e783747e819664"' https://www.your-go-server.com:8154/go/gadgets</pre>
</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<div id = 'no_result_message' class = 'error-box' style = 'display:none;'>
<div class = 'box-content'>
<div class = 'box'>Your search 
<span class = 'search_term'></span>
did not match any help pages.</div>
</div>
</div>

<div id = 'nav'>
<ul class = 'toc'>
<li>
<a href = 'welcome_to_go.html' class = 'current'>Welcome to Go</a>

<ul>
<li>
<a href = 'whats_new_in_go.html'>What's new in Go</a>
</li>

<li>
<a href = 'concepts_in_go.html'>Concepts in Go</a>
</li>
</ul>
</li>

<li>
<div>Installing Go</div>

<ul>
<li>
<a href = 'system_requirements.html'>System requirements</a>
</li>

<li>
<a href = 'installing_go_server.html'>Installing Go server</a>
</li>

<li>
<a href = 'installing_go_agent.html'>Installing Go agent</a>
</li>

<li>
<a href = 'run_go_without_install.html'>Running Go without installation</a>
</li>

<li>
<a href = 'upgrading_go.html'>Upgrading Go</a>
</li>

<li>
<a href = 'configuring_server_details.html'>Configuring server details</a>
</li>

<li>
<a href = 'configure_proxy.html'>Configure a Proxy</a>
</li>

<li>
<a href = 'performance_tuning.html'>Performance Tuning</a>
</li>
</ul>
</li>

<li>
<div>Using Go</div>

<ul>
<li>
<a href = 'quick_pipeline_setup.html'>Setup a new pipeline</a>
</li>

<li>
<a href = 'managing_pipelines.html'>Managing pipelines</a>
</li>

<li>
<a href = 'managing_a_build_cloud.html'>Managing agents</a>
</li>

<li>
<a href = 'managing_artifacts_and_reports.html'>Managing artifacts and reports</a>
</li>

<li>
<a href = 'managing_dependencies.html'>Managing dependencies</a>
</li>

<li>
<a href = 'managing_environments.html'>Managing environments</a>
</li>

<li>
<a href = 'dev_authentication.html'>Setting up authentication</a>
</li>

<li>
<a href = 'managing_users.html'>Managing Users</a>
</li>

<li>
<a href = 'dev_notifications.html'>Notifications</a>
</li>

<li>
<a href = 'properties.html'>Properties</a>
</li>

<li>
<a href = 'build_labelling.html'>Pipeline Labelling</a>
</li>

<li>
<a href = 'compare_pipelines.html'>Compare Builds</a>
</li>

<li>
<a href = 'go_integration.html'>Integration with external tools</a>
</li>

<li>
<a href = 'ordering_of_pipelines.html'>Ordering of pipelines</a>
</li>

<li>
<a href = 'pipeline_scheduling.html'>Pipeline Scheduling</a>
</li>

<li>
<a href = 'gadgets.html'>Gadgets</a>
</li>

<li>
<a href = 'delete_artifacts.html'>Auto delete artifacts</a>
</li>

<li>
<a href = 'job_timeout.html'>Job Timeout</a>
</li>

<li>
<a href = 'stage_duration_chart.html'>Graphs</a>
</li>

<li>
<a href = 'stage_old_config.html'>Historical Configuration</a>
</li>

<li>
<a href = 'command_repository.html'>Command Repository</a>
</li>

<li>
<a href = 'concurrent_config_modifications.html'>Concurrent Modifications to Go's Configuration</a>
</li>

<li>
<a href = 'package_material.html'>Package Material</a>
</li>

<li>
<a href = 'plugin_user_guide.html'>Plugin User Guide</a>
</li>
</ul>
</li>

<li>
<div>Go Tour</div>

<ul>
<li>
<a href = 'Pipelines_Dashboard_page.html'>Pipelines Dashboard</a>
</li>

<li>
<a href = 'agents_page.html'>Agents</a>
</li>

<li>
<a href = 'pipeline_activity_page.html'>Pipeline Activity</a>
</li>

<li>
<a href = 'stage_details_page.html'>Stage Details</a>
</li>

<li>
<a href = 'job_details_page.html'>Job Details</a>
</li>

<li>
<a href = 'administration_page.html'>Administration</a>
</li>

<li>
<a href = 'server_details_page.html'>Server Details</a>
</li>

<li>
<a href = 'environments_page.html'>Environments</a>
</li>

<li>
<a href = 'value_stream_map.html'>Value Stream Map</a>
</li>
</ul>
</li>

<li>
<div>As a Developer, I want to...</div>

<ul>
<li>
<a href = 'Pipelines_Dashboard_page.html'>...watch what's currently building</a>
</li>

<li>
<a href = 'trigger_with_options.html'>...trigger a pipeline with a different revision of material</a>
</li>

<li>
<a href = 'dev_notifications.html'>...be notified when I break the build</a>
</li>

<li>
<a href = 'dev_understand_why_build_broken.html'>...understand why the build is broken</a>
</li>

<li>
<a href = 'dev_see_artifact_as_tab.html'>...see my artifacts as a sub-tab on the Job Details page</a>
</li>

<li>
<a href = 'dev_save_properties.html'>...save properties about a build</a>
</li>

<li>
<a href = 'dev_clean_up_when_cancel.html'>...clean up my environment when I cancel a task</a>
</li>

<li>
<a href = 'dev_conditional_task_execution.html'>...only run a task when the build has failed</a>
</li>

<li>
<a href = 'dev_use_current_revision_in_build.html#current'>...use the current revision in my build</a>
</li>
</ul>
</li>

<li>
<div>As a Tester, I want to...</div>

<ul>
<li>
<a href = 'rm_deploy_to_environment.html#deploy_uat'>...release something into my UAT environment</a>
</li>

<li>
<a href = 'tester_what_has_changed.html'>...know what has changed in my new binary</a>
</li>

<li>
<a href = 'dependency_management.html'>...ensure appropriate tests are run against new builds</a>
</li>
</ul>
</li>

<li>
<div>As a Release Manager, I want to...</div>

<ul>
<li>
<a href = 'rm_deploy_to_environment.html#deploy_prod'>...release something into production</a>
</li>

<li>
<a href = 'rm_what_is_deployed.html'>...know what's currently in production</a>
</li>

<li>
<a href = 'deploy_a_specific_build_to_an_environment.html'>...deploy a specific build to production</a>
</li>

<li>
<a href = 'managing_environments.html'>...manage my environments</a>
</li>
</ul>
</li>

<li>
<div>As a Go Administrator, I want to...</div>

<ul>
<li>
<a href = 'pipeline_templates.html'>...template my pipelines</a>
</li>

<li>
<a href = 'admin_use_parameters_in_configuration.html'>...parameterize my pipelines</a>
</li>

<li>
<a href = 'installing_go_agent.html'>...install a new agent</a>
</li>

<li>
<a href = 'agent_auto_register.html'>...auto register a remote agent</a>
</li>

<li>
<a href = 'agent_guid_issue.html'>...clone/copy existing agents</a>
</li>

<li>
<a href = 'admin_install_multiple_agents.html'>...install multiple agents on one machine</a>
</li>

<li>
<a href = 'agents_page.html#filter_agents'>...view and filter agents</a>
</li>

<li>
<a href = 'quick_pipeline_setup.html'>...add a new pipeline</a>
</li>

<li>
<a href = 'admin_add_material.html'>...add a new  material to an existing pipeline</a>
</li>

<li>
<a href = 'admin_add_stage.html'>...add a new stage to an existing pipeline</a>
</li>

<li>
<a href = 'admin_add_job.html'>...add a new job to an existing stage</a>
</li>

<li>
<a href = 'admin_run_on_all_agents.html'>...run the same job on a group of agents</a>
</li>

<li>
<a href = 'dev_use_current_revision_in_build.html#job'>...pass environment variables to jobs</a>
</li>

<li>
<a href = 'admin_lock_pipelines.html'>...ensure only one instance of a pipeline can run at the same time</a>
</li>

<li>
<a href = 'dev_choose_when_stage_runs.html'>...choose when a certain stage runs</a>
</li>

<li>
<a href = 'admin_use_custom_pipeline_label.html'>...use a custom pipeline label</a>
</li>

<li>
<a href = 'managing_dependencies.html'>...manage my dependent pipelines</a>
</li>

<li>
<a href = 'dev_authentication.html'>...enable authentication on my Go server</a>
</li>

<li>
<a href = 'dev_authentication.html#ldap_authentication'>..configure LDAP access for my Go server</a>
</li>

<li>
<a href = 'dev_authorization.html'>...change permissions for different actions</a>
</li>

<li>
<a href = 'dev_authorization.html#pipeline-groups'>...ensure only certain users can see a group of pipelines</a>
</li>

<li>
<a href = 'dev_upload_test_report.html'>...publish reports and artifacts</a>
</li>

<li>
<a href = 'ui_testing.html'>...configure an agent to run UI tests</a>
</li>

<li>
<a href = 'admin_mailhost_info.html'>...add mailhost information to support email notifications</a>
</li>

<li>
<a href = 'admin_out_of_disk_space.html'>...clean up old artifacts when running out of disk space</a>
</li>

<li>
<a href = 'admin_timer.html'>...run a pipeline on a schedule</a>
</li>

<li>
<a href = 'managing_a_build_cloud.html#pausing_agent'>...pause an agent</a>
</li>

<li>
<a href = 'agent_details.html#identifying_environment_issues'>...see if a job fails because of an environment issue</a>
</li>

<li>
<a href = 'delegating_group_administration.html'>...delegating group administration</a>
</li>

<li>
<a href = 'one_click_backup.html'>...backup Go server</a>
</li>

<li>
<a href = 'material_update_hung.html'>...be notified when Go server is not able to poll for changes</a>
</li>
</ul>
</li>

<li>
<div>Mingle Integration</div>

<ul>
<li>
<a href = 'mingle_in_go.html'>Displaying Mingle gadgets in Go</a>
</li>

<li>
<a href = 'mingle_card_activity_gadget.html'>Mingle Card Activity Gadget</a>
</li>
</ul>
</li>

<li>
<a href = 'http://support.thoughtworks.com/categories/20002778-go-community-support'>FAQ/Troubleshooting</a>
</li>

<li>
<a href = 'go_api.html'>Go API</a>

<ul>
<li>
<a href = 'Artifacts_API.html'>Artifacts API</a>
</li>

<li>
<a href = 'Properties_API.html'>Properties API</a>
</li>

<li>
<a href = 'Configuration_API.html'>Configuration API</a>
</li>

<li>
<a href = 'Pipeline_API.html'>Pipeline API</a>
</li>

<li>
<a href = 'Stages_API.html'>Stages API</a>
</li>

<li>
<a href = 'command_repo_api.html'>Command Repo API</a>
</li>

<li>
<a href = 'Agent_API.html'>Agent API</a>
</li>

<li>
<a href = 'Feeds_API.html'>Feeds API</a>
</li>

<li>
<a href = 'Backup_API.html'>Backup API</a>
</li>

<li>
<a href = 'materials_api.html'>Materials API</a>
</li>

<li>
<a href = 'users_api.html'>Users API</a>
</li>
</ul>
</li>

<li>
<div>Extension Points of Go</div>

<ul>
<li>
<a href = 'go_plugins_basics.html'>Plugins in Go</a>
</li>

<li>
<a href = 'resources/javadoc/index.html' target = '_blank'>Go Plugin API</a>
</li>

<li>
<a href = 'writing_go_package_material_plugin.html'>Writing a package material plugin</a>
</li>
</ul>
</li>

<li>
<div>Bundled Plugins</div>

<ul>
<li>
<a href = 'yum_repository_poller.html'>Yum Repository Poller</a>
</li>
</ul>
</li>

<li>
<div>Configuration</div>

<ul>
<li>
<a href = 'configuration_reference.html'>Configuration Reference</a>
</li>

<li>
<a href = 'schema.html'>Schema</a>
</li>
</ul>
</li>
</ul>
</div>

<div id = 'ft' class = 'footer'>&copy; ThoughtWorks Studios, 2010</div>
</body>
</html>
